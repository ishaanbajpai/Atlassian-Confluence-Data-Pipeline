<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Tasks for Doc or Support Agent</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            line-height: 1.6;
            margin: 20px;
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
        }
        h1, h2, h3, h4, h5, h6 {
            margin-top: 1.5em;
            margin-bottom: 0.5em;
        }
        table {
            border-collapse: collapse;
            width: 100%;
            margin: 1em 0;
            overflow-x: auto;
            display: block;
        }
        th, td {
            border: 1px solid #ddd;
            padding: 8px;
        }
        th {
            background-color: #f2f2f2;
        }
        img {
            max-width: 100%;
            height: auto;
        }
        figure {
            text-align: center;
            margin: 1em 0;
        }
        figcaption {
            font-style: italic;
            font-size: 0.9em;
            margin-top: 0.5em;
        }
        pre {
            background-color: #f5f5f5;
            padding: 10px;
            overflow-x: auto;
            border-radius: 3px;
            white-space: pre;
            font-family: monospace;
        }
        code {
            font-family: monospace;
            background-color: #f5f5f5;
            padding: 2px 4px;
            border-radius: 3px;
        }
        .code-block {
            background-color: #f5f5f5;
            padding: 10px;
            border-radius: 4px;
            overflow-x: auto;
            white-space: pre;
            font-family: monospace;
        }
        /* Syntax highlighting */
        .keyword { color: #0000ff; }
        .string { color: #a31515; }
        .comment { color: #008000; }
        .function { color: #795e26; }
        .number { color: #098658; }
        .type { color: #267f99; }
        .class { color: #267f99; }
        .variable { color: #001080; }
    </style>
</head>
<body>
    <h1>Tasks for Doc or Support Agent</h1>
    <div class="content">
        <h3>üìÅ <strong>Upload &amp; Vector DB Integration</strong></h3><p><strong>Story 1: Configurable Upload to Vector DB with Future-Proofing ‚Üí Assignee: </strong><ac:link><ri:user ri:account-id="712020:6c674e4a-4c3f-4acf-8aea-844cea3517e9" ri:local-id="9feaeffd-a9f0-405e-8476-b81145747107"></ri:user></ac:link>  ‚Üí <ac:structured-macro ac:macro-id="5d39c410-45bc-41db-9a50-bb8a5cdf4027" ac:name="jira" ac:schema-version="1"><ac:parameter ac:name="key">AGAI-1</ac:parameter><ac:parameter ac:name="serverId">e2165274-dd7f-3533-9e5b-e56e11daee4b</ac:parameter><ac:parameter ac:name="server">System Jira</ac:parameter></ac:structured-macro></p><ul><li><p>Develop an API endpoint to ingest content along with vector DB configuration details.</p></li><li><p>Support inputs from:</p><ul><li><p>Manual file upload(s)</p></li><li><p>Confluence content via Confluence Fetcher</p></li><li><p>SharePoint content via SharePoint Fetcher</p></li></ul></li><li><p>Implement chunking logic with configurable chunk size and overlap percentage.</p></li><li><p>Maintain a metadata table to track file uploads, source, chunk count, and storage mapping.</p></li><li><p>Abstract vector DB interface so switching between OpenAI, Oracle23AI, Pinecone, etc., requires only config change.</p></li><li><p>Include content preprocessing (format normalization, encoding checks) before vectorization.</p></li><li><p><strong>Note</strong>: One thought we can check if we can use <a data-card-appearance="inline" href="https://github.com/zcaceres/markdownify-mcp">https://github.com/zcaceres/markdownify-mcp</a> and convert all input types to markdown and the API can take markdown as input.</p></li></ul><p><strong>Story 2: Manual Upload Support for Multiple Document Types ‚Üí Assignee: </strong><ac:link><ri:user ri:account-id="712020:6c674e4a-4c3f-4acf-8aea-844cea3517e9" ri:local-id="bba1c8e0-3e6e-4f59-adbb-59323814d118"></ri:user></ac:link> </p><ul><li><p>Develop an interface/API to allow uploading one or more documents of supported formats (PDF, DOCX, TXT, HTML, Markdown).</p></li><li><p>Integrate with the <strong>MarkItDown MCP server</strong> to convert uploaded files into a consistent Markdown format. Check : <a data-card-appearance="inline" href="https://github.com/zcaceres/markdownify-mcp">https://github.com/zcaceres/markdownify-mcp</a> </p></li><li><p>Use the converted Markdown files as input to the generic upload API for Vector DB ingestion, ensuring seamless handling of multiple document types.</p></li><li><p>Route the uploaded content through the <strong>generic upload API</strong> developed in <strong>Story 1</strong>.</p></li><li><p>Implement automatic tagging to associate each document with the correct product/category based on provided metadata.</p></li></ul><p><strong>Story: Integrate MarkItDown MCP for Universal Markdown Conversion</strong></p><p><strong>Linked Story:</strong> AGAI-1 (Configurable Upload to Vector DB with Future-Proofing)</p><h3><strong>Description:</strong></h3><p>Integrate and configure the <strong>MarkItDown MCP server</strong> to convert various input content formats into clean Markdown. This Markdown will serve as a unified input format for the Vector DB ingestion API (developed in AGAI-1). The goal is to ensure consistent, scalable content preprocessing across formats and systems.</p><p></p><p><strong>Story 3: Configuration-Driven Upload for SharePoint &amp; Confluence</strong></p><ul><li><p>Use <code style="font-family: monospace; background-color: #f5f5f5; padding: 2px 4px; border-radius: 3px;">config.json</code> files or admin UI to manage SharePoint/Confluence sync settings.</p></li><li><p>Include:</p><ul><li><p>Site/Page IDs</p></li><li><p>Fetch frequency</p></li><li><p>File type rules</p></li></ul></li><li><p>Ensure all content is routed to the upload API from Story 1 for chunking, processing, and vectorization.</p></li></ul><p><strong>Story 4: UI for On-Demand Upload with Confluence Page Input</strong></p><ul><li><p>Provide a dedicated UI to input:</p><ul><li><p>Confluence space or page ID</p></li><li><p>Option to include/exclude child pages</p></li></ul></li><li><p>Trigger download, extraction, and upload using APIs from previous stories.</p></li></ul><h3><strong>Story 19: MetricStream University Videos ‚Üí Transcript Generation ‚Üí Knowledge Base Integration (Vector DB)</strong></h3><ul><li><p>Provide an option to add MetricStream University Learning Videos as input.</p></li><li><p>Integrate or develop functionality to automatically generate <strong>transcripts</strong> from the video content, capturing metadata (e.g., title, duration, speaker, tags).</p></li><li><p>Convert generated transcripts into a structured format (Markdown or plain text) using <strong>MarkItDown MCP</strong> or equivalent tooling.</p></li><li><p>Upload the processed transcripts into the <strong>VectorDB</strong> to enhance KnowledgeBase search and chatbot query responses.</p></li><li><p>When users query related topics:</p><ul><li><p>Retrieve relevant transcript information for better, more accurate answers.</p></li><li><p>If applicable, provide a <strong>playable video link</strong> along with the response for deeper understanding.</p></li></ul></li><li><p>This approach will improve user experience by reducing the need to manually search videos and ensuring direct access to precise, contextually linked video materials.</p></li></ul><hr/><h3>ü§ñ <strong>Chatbot Enhancements</strong></h3><p><strong>Story 5: Cleanup of Chatbot Response Format Issues ‚Üí Assignee: </strong><ac:link><ri:user ri:account-id="712020:6c674e4a-4c3f-4acf-8aea-844cea3517e9" ri:local-id="069a852a-e6ee-4062-a070-932a4cb411d3"></ri:user></ac:link> ‚Üí <ac:structured-macro ac:macro-id="56022500-4798-44e0-bfba-faf58a75dae2" ac:name="jira" ac:schema-version="1"><ac:parameter ac:name="key">AGAI-2</ac:parameter><ac:parameter ac:name="serverId">e2165274-dd7f-3533-9e5b-e56e11daee4b</ac:parameter><ac:parameter ac:name="server">System Jira</ac:parameter></ac:structured-macro></p><ul><li><p>Fix:</p><ul><li><p>Triple quote (<code style="font-family: monospace; background-color: #f5f5f5; padding: 2px 4px; border-radius: 3px;">'''</code>) artifacts</p></li><li><p>HTML tags rendering in plain copy/paste scenarios</p></li><li><p>PDF export formatting (table header overlaps, title not wrapping)</p></li></ul></li><li><p>Add filters to clean/format markdown responses before rendering/export.</p></li><li><p>Consider other issues in Chatbot.</p></li></ul><p><strong>Story 6: UX Enhancements for Chatbot &amp; Report Screen</strong></p><ul><li><p>Improve chatbot and report interfaces with:</p><ul><li><p>Tooltips</p></li><li><p>Consistent font rendering</p></li><li><p>Accessibility improvements</p></li><li><p>Scroll-to-top, loading states, retry buttons</p></li></ul></li></ul><p><strong>Story 7: Hallucination Detection and Correction in Chatbot Responses ‚Üí Assignee: </strong><ac:link><ri:user ri:account-id="712020:926ddded-4724-4e0d-954c-0c19988f008c" ri:local-id="9cf51c59-4b31-4ae4-811f-b958bf09fc85"></ri:user></ac:link> </p><ul><li><p>Detect low confidence/hallucinated responses using heuristics or model confidence.</p></li><li><p>Allow:</p><ul><li><p>Retry/rephrase</p></li><li><p>User thumbs up/down</p></li><li><p>Text feedback input</p></li></ul></li><li><p>Feed responses to an internal review system to improve prompts or filter responses.</p></li></ul><p><strong>Story 8: Cross-Agent Communication Between Product Chatbots ‚Üí Assignee: </strong><ac:link><ri:user ri:account-id="712020:9b092792-e6eb-4361-bd88-e1d660ea7154" ri:local-id="8944da71-fcb0-435f-8dd8-997c0098734f"></ri:user></ac:link> </p><ul><li><p>Enable inter-agent messaging: Product-specific chatbots should talk to each other.</p></li><li><p>Consolidate responses across multiple product domains.</p></li><li><p>Clearly show source chatbot in the unified answer.</p></li></ul><hr/><h3>üìÑ <strong>Report Generation</strong></h3><p><strong>Story 9: Refine Prompts &amp; Instructions for Change History &amp; Feature Evolution Reports ‚Üí Assignee: </strong><ac:link><ri:user ri:account-id="712020:926ddded-4724-4e0d-954c-0c19988f008c" ri:local-id="c9553b06-8ebc-4757-b105-809684cb9938"></ri:user></ac:link> ‚Üí <ac:structured-macro ac:macro-id="208da873-5e30-434a-8ff9-d15035be33ff" ac:name="jira" ac:schema-version="1"><ac:parameter ac:name="key">AGAI-3</ac:parameter><ac:parameter ac:name="serverId">e2165274-dd7f-3533-9e5b-e56e11daee4b</ac:parameter><ac:parameter ac:name="server">System Jira</ac:parameter></ac:structured-macro></p><ul><li><p>Audit existing vs old reports for completeness and accuracy.</p></li><li><p>Refine prompts and context-setting instructions to produce more relevant output.</p></li><li><p>Reference SharePoint documentation and prior assistant responses.</p></li></ul><p><strong>Story 10: Optimize Formatting Flow for Reports Without ChatGPT Call ‚Üí Assignee: </strong><ac:link><ri:user ri:account-id="712020:926ddded-4724-4e0d-954c-0c19988f008c" ri:local-id="62ab2790-0e36-4e6a-88d6-499163f26da5"></ri:user></ac:link> </p><ul><li><p>Assess feasibility of replacing the second ChatGPT call (for formatting).</p></li><li><p>Implement server-side markdown-to-PDF formatting using open-source libraries (e.g., <code style="font-family: monospace; background-color: #f5f5f5; padding: 2px 4px; border-radius: 3px;">markdown-pdf</code>, <code style="font-family: monospace; background-color: #f5f5f5; padding: 2px 4px; border-radius: 3px;">WeasyPrint</code>, or HTML+CSS engine).</p></li></ul><p><strong>Story 11: Implement RLHF for Report Generation ‚Üí Assignee: </strong><ac:link><ri:user ri:account-id="712020:9b092792-e6eb-4361-bd88-e1d660ea7154" ri:local-id="642481d4-89d3-4346-a8c4-2f60f9f5e5a7"></ri:user></ac:link> </p><ul><li><p>Enable end-users to rate reports and add feedback.</p></li><li><p>Track rating history.</p></li><li><p>Use feedback to adjust prompt phrasing, example patterns, and formatting logic.</p></li></ul><hr/><h3>üîó System Integration &amp; Automation</h3><h3><strong>Story 12: Enhance Confluence Auto Download (Images, Tables, Links), MCP Integration for Confluence - Delta Sync  ‚Üí Assignee: </strong><ac:link><ri:user ri:account-id="712020:4e52c20a-3c1f-4825-82aa-d8cb1fd8ff9b" ri:local-id="80a6be0d-2704-4647-b28c-144002ea0932"></ri:user></ac:link> ‚Üí <ac:structured-macro ac:macro-id="662d0680-418a-4a16-8f97-2f8d2e64bd34" ac:name="jira" ac:schema-version="1"><ac:parameter ac:name="key">AGAI-5</ac:parameter><ac:parameter ac:name="serverId">e2165274-dd7f-3533-9e5b-e56e11daee4b</ac:parameter><ac:parameter ac:name="server">System Jira</ac:parameter></ac:structured-macro></h3><ul><li><p>Enhance current parser to extract:</p><ul><li><p>Embedded images</p></li><li><p>Tables (including nested)</p></li><li><p>Cross-linked pages and anchors</p></li></ul></li><li><p>Store enriched output in vector format preserving contextual structure.</p></li><li><p>Compare version metadata (modified timestamp, version number).</p></li><li><p>Download and vectorize only the changed Confluence pages.</p></li><li><p>Update tracking metadata post-processing.</p></li></ul><h3><strong>Story 13: SharePoint Auto Download &amp; Delta Download with MCP Integration ‚Üí Assignee: </strong><ac:link><ri:user ri:account-id="712020:36b7c5c6-27d1-4257-9e12-57e5dd369fd2" ri:local-id="f84c43da-e990-4259-a49f-dd4124367cf1"></ri:user></ac:link> ‚Üí <ac:structured-macro ac:macro-id="bfc3c0da-a2e6-4c11-90c9-bae6f786cf08" ac:name="jira" ac:schema-version="1"><ac:parameter ac:name="key">AGAI-6</ac:parameter><ac:parameter ac:name="serverId">e2165274-dd7f-3533-9e5b-e56e11daee4b</ac:parameter><ac:parameter ac:name="server">System Jira</ac:parameter></ac:structured-macro></h3><ul><li><p>Implement MCP-based automation for SharePoint auto download based on config.</p></li><li><p>Fetch pages/files, extract rich content (images, tables, links).</p></li><li><p>Feed to vector pipeline.</p></li><li><p>Identify modified documents based on timestamps or hash comparison.</p></li><li><p>Only pull deltas, skipping unchanged files.</p></li><li><p>Integrate with version tracking table.</p></li></ul><h3><strong>Story 14: JIRA Integration via MCP Server ‚Üí Assignee: </strong><ac:link><ri:user ri:account-id="712020:4e52c20a-3c1f-4825-82aa-d8cb1fd8ff9b" ri:local-id="d9de35fb-677c-4830-b90a-4dc5a4572164"></ri:user></ac:link> </h3><ul><li><p>Fetch JIRA issues, comments, updates using Atlassian API.</p></li><li><p>Implement delta sync and indexing logic.</p></li><li><p>Track issues per product/module for vector enhancement.</p></li></ul><hr/><h2>üß† Other Enhancements</h2><h3><strong>Story 15: Configure OpenAI Assistants in Doc Agent for other Products</strong></h3><ul><li><p>Allow registration of product-specific assistants.</p></li><li><p>Support separate prompts, embedding types, and document selectors.</p></li><li><p>Enable Assistant switching logic based on user input domain.</p></li></ul><h3><strong>Story 16: Log Analyzer - Pattern &amp; Issue Detection ‚Üí Assignee: </strong><ac:link><ri:user ri:account-id="712020:4e52c20a-3c1f-4825-82aa-d8cb1fd8ff9b" ri:local-id="7711a685-1287-4ba0-b4be-5aa938fe9063"></ri:user></ac:link> </h3><ul><li><p>Develop a UI/API to upload logs (App/DB/Server).</p></li><li><p>Parse log levels, timestamps, error codes.</p></li><li><p>Use basic NLP or regex to group similar errors and identify frequent failures.</p></li></ul><hr/><h2>üõ†Ô∏è Base Framework Changes</h2><h3><strong>Story 17: Folder Structure Enhancement ‚Üí Assignee: </strong><ac:link><ri:user ri:account-id="712020:9b092792-e6eb-4361-bd88-e1d660ea7154" ri:local-id="95f103c2-7f03-41bd-952e-b58ab51ac5b9"></ri:user></ac:link> ‚Üí <ac:structured-macro ac:macro-id="902999f2-0f81-43e9-9a20-815cf8f5c054" ac:name="jira" ac:schema-version="1"><ac:parameter ac:name="key">AGAI-4</ac:parameter><ac:parameter ac:name="serverId">e2165274-dd7f-3533-9e5b-e56e11daee4b</ac:parameter><ac:parameter ac:name="server">System Jira</ac:parameter></ac:structured-macro></h3><ul><li><p>Split server-side and client-side folders clearly.</p></li><li><p>Introduce folders for:</p><ul><li><p>Each type of Agent (Upload Agent, Chat Agent, Report Agent)</p></li><li><p>Common utilities</p></li></ul></li><li><p>Ensure project structure supports easy scaling and modular code.</p></li></ul><h3><strong>Story 18: Migrate to FastAPI Framework ‚Üí Assignee: </strong><ac:link><ri:user ri:account-id="712020:9b092792-e6eb-4361-bd88-e1d660ea7154" ri:local-id="cad1d7d5-0223-4034-ac8f-7b4bae0c075d"></ri:user></ac:link><strong> </strong></h3><ul><li><p>Evaluate feasibility of replacing Flask with Fast API.</p></li><li><p>Refactor existing APIs to FastAPI syntax.</p></li><li><p>Benefits:</p><ul><li><p>Better performance (async support)</p></li><li><p>Built-in docs with OpenAPI</p></li><li><p>Type hinting for better dev experience</p></li></ul></li></ul>
    </div>
</body>
</html>